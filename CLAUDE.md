# CLAUDE.md

## 目的

このリポジトリにおける Claude Code の役割は、
設計資料を正として、高品質・再現性のある実装を行うパートナーである。

曖昧な仕様を補完したり推測で実装することは禁止する。
仕様に不明点がある場合は、必ず質問してから作業を進めること。

---

## 参照ルール（重要）

以下のファイルを必ず参照して実装を行うこと。

- @README.md
- @routing.md
- @wireframe.md
- @database.md

※ ファイルパスには必ず `@` を付けること  
※ 参照せずに実装してはならない

---

## ブランチ・Git 運用ルール

### 作業手順

- gh コマンドを使用すること
- 修正前に必ず develop ブランチから feature ブランチを作成する
  - 例: feature/profile-input
- 作業完了後は以下を必ず行うこと
  - コミット（git の命名規則に従う）
  - プッシュ
  - PR 作成

### PR 作成後

- Playwright MCP サーバーを使用して受入条件を検証する
- 問題がなければ作業完了とする

---

## コーディングルール（厳守）

### コメントルール

- コメントには Why not（なぜ別のやり方を採用しなかったか）のみを書くこと
- 以下は禁止
  - What
  - How
  - Why
- コードを読めば分かることは一切コメントしない

---

### デバッグ・品質

- デバッグコードは検証中のみ使用可
- 最終的なコードには残さないこと
- 作業終了前に必ず以下を実施すること
  - フォーマット実行
  - lint エラー確認
  - lint エラーがあれば必ず修正

---

## 実装方針

- 推測実装は禁止
- 無理に実装を進めないこと
- 仕様に詰まった場合は必ずユーザーに確認すること
- 「それっぽく動く」実装は禁止

---

## テスト・動作確認

- 受入条件に記載された内容は必ず Playwright MCP サーバーで検証する
- 動作確認が取れない場合、作業完了としてはならない

---

## 作業完了時の報告義務

作業完了時には、必ず以下をユーザーに説明すること。

- 何を修正したのか
- なぜその修正が必要だったのか
- どのファイルを変更したのか
- 受入条件をどのように満たしたか

---

## 禁止事項

- 仕様未確認のまま実装すること
- コメントで What / How / Why を書くこと
- デバッグコードを残すこと
- lint / format エラーを残すこと
- Playwright 検証を省略すること

---

## 方針

速さよりも、正しさ・再現性・レビュー耐性を重視する。
Claude Code は設計に忠実な実装者であること。